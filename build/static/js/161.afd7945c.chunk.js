"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[161],{1775:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(9439),s=n(1087),c=n(4165),a=n(5861),o=n(5872),l=n(1243),i=function(){var e=(0,a.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,o.Kz)(),e.next=4,l.Z.delete("https://priconne-backend-production.up.railway.app/auth/google/logout/".concat(localStorage.getItem("mongoID"))).then((function(e){console.log(e),localStorage.removeItem("id"),localStorage.getItem("id")||window.location.reload()}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),u=n(2791),d=n(184),h=function(e){var t=e.className,n=(0,u.useState)(""),c=(0,r.Z)(n,2),a=c[0],o=c[1];return(0,d.jsxs)("header",{className:"flex column alignItems ".concat(t),id:"auth",children:[(0,d.jsx)("h1",{children:"Priconnect"}),(0,d.jsx)("button",{className:"button fa-solid fa-bars",id:"menu",onClick:function(){return o("nav")}}),(0,d.jsxs)("nav",{id:a,className:"nav",children:[(0,d.jsx)("button",{className:"button fa-solid fa-xmark",id:"close",onClick:function(){return o("")}}),(0,d.jsxs)("ul",{className:"flex alignItems",children:[(0,d.jsx)("li",{children:(0,d.jsx)(s.rU,{className:"button",to:"/",children:"Home"})}),(0,d.jsx)("li",{children:(0,d.jsx)(s.rU,{className:"button",to:"/dashboard",children:"Dashboard"})}),(0,d.jsx)("li",{children:(0,d.jsx)(s.rU,{className:"button",to:"/account",children:"Account"})}),(0,d.jsx)("li",{children:(0,d.jsx)(s.rU,{className:"button",to:"/post",children:"Post"})}),(0,d.jsx)("li",{children:(0,d.jsx)(s.rU,{className:"button",to:"/comics",children:"Comics"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{className:"button",onClick:function(){return i()},children:"Logout"})})]})]})]})}},4327:function(e,t,n){n.d(t,{fn:function(){return o},fy:function(){return a},ol:function(){return i},q0:function(){return l}});var r=n(4165),s=n(5861),c=n(1243),a=function(e){return e.length>150?e.substring(0,152)+"...":e},o=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,c.Z.delete("https://priconne-backend-production.up.railway.app/deletePost/".concat(n));case 4:s=e.sent,console.log(s.data),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,c.Z.put("https://priconne-backend-production.up.railway.app/addLike/".concat(n));case 4:s=e.sent,console.log(s.data),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t,n,s){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.preventDefault(),localStorage.setItem("postId",n),s("/comments")}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},5161:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(1775),s=n(4165),c=n(5861),a=n(9439),o=n(2791),l=n(4327),i=n(1087),u=n(1243),d=n(184),h=function(){var e=(0,o.useState)([]),t=(0,a.Z)(e,2),n=t[0],r=t[1],h=(0,o.useState)([]),f=(0,a.Z)(h,2),p=f[0],x=f[1],m=(0,o.useCallback)((0,c.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.Z.get("https://priconne-backend-production.up.railway.app/api/posts");case 3:t=e.sent,n=t.data,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);(0,o.useMemo)((function(){m()}),[m]);var j=(0,o.useCallback)((function(){if(n){var e=!1,t=[];return n.forEach((function(n){n.user===localStorage.getItem("id")&&n.comments&&(e=!0,t.push((0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"tableImage",children:(0,d.jsx)(i.rU,{to:"/viewPost",onClick:function(){return localStorage.setItem("postId",n._id)},children:(0,d.jsx)("img",{src:n.post,alt:"Post of ".concat(n.title)})})}),(0,d.jsx)("td",{children:n.title}),(0,d.jsx)("td",{className:"icons buttons",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("section",{className:"button",onClick:function(e){return(0,l.q0)(e,n._id)},children:(0,d.jsx)("i",{className:"fa-solid fa-thumbs-up",children:(0,d.jsx)("span",{children:n.likes})})}),(0,d.jsx)(i.rU,{to:"/comments",className:"button",onClick:function(){return localStorage.setItem("postId",n._id)},children:(0,d.jsx)("i",{className:"fa-solid fa-comment",children:(0,d.jsx)("span",{children:n.comments.length})})})]})}),(0,d.jsx)("td",{className:"buttons",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)("button",{className:"fa-solid fa-trash button",onClick:function(e){(0,l.fn)(e,n._id)}}),(0,d.jsx)(i.rU,{to:"/editPost",className:"fa-solid fa-pen-to-square button",onClick:function(){return localStorage.setItem("postId",n._id)}})]})})]},n._id)))})),e||t.push((0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"N/A"}),(0,d.jsx)("td",{children:"N/A"}),(0,d.jsx)("td",{children:"N/A"}),(0,d.jsx)("td",{children:"N/A"})]},"defaultValue")),t}}),[n]);return(0,o.useMemo)((function(){x(j())}),[j,x]),p},f=function(){return(0,d.jsxs)("main",{className:"flex column justifyContent",id:"dashboard",children:[(0,d.jsx)(r.Z,{className:"pages"}),(0,d.jsx)("h1",{className:"justifyContent flex",children:"Welcome to Your Account"}),(0,d.jsx)("div",{className:"table-wrapper flex justifyContent",children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Image"}),(0,d.jsx)("th",{children:"Post Title"}),(0,d.jsx)("th",{children:"Like / Comment"}),(0,d.jsx)("th",{children:"Edit / Delete"})]})}),(0,d.jsx)("tbody",{children:(0,d.jsx)(h,{})})]})}),(0,d.jsx)("div",{className:"noDisplay verticalTable",children:(0,d.jsx)("table",{id:"table",children:(0,d.jsx)("tbody",{children:(0,d.jsx)(h,{})})})})]})}}}]);
//# sourceMappingURL=161.afd7945c.chunk.js.map